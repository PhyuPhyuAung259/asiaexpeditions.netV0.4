var baseUrl=location.protocol+"//"+location.host+"/";function readURL(t,e){if(t.files&&t.files[0]){var a=new FileReader;a.onload=function(t){$("#"+e).attr("src",t.target.result)?$(this).hide():$(this).show()},a.readAsDataURL(t.files[0])}}function getVehicle(t,e){return $.ajax({method:"GET",url:baseUrl+"transport/vihecle",data:"sup_id="+t+"&tran_id="+e,dataType:"json",success:function(t){dataHtml="",t.query_data?$.each(t.query_data,function(t){dataHtml+="<tr><td>"+this.name+"</td><td class='text-right'>"+this.price+"</td><td class='text-right'>"+this.kprice+"</td><td class='text-right'><a href='javascript:void(0)' class='btnEdit'  data-id='"+this.tran_id+"' data-name='"+this.name+"'   data-price='"+this.price+"' data-kprice='"+this.kprice+"' title='Remove this?'><i style='padding:1px 2px;' class='btn btn-info btn-xs fa fa-pencil-square-o'></i></a>&nbsp;<a href='javascript:void(0)' class='RemoveHotelRate' data-id='"+this.tran_id+"' title='Remove this?' data-type='vehicle'><i style='padding:1px 2px;' class='btn btn-danger btn-xs fa  fa-minus-circle'></i></a></td></tr>"}):dataHtml="<tr><td colspan='4' class=text-center>Result Not Found ...!</td></tr>",$("tbody#TransportDataList").html(dataHtml)},error:function(){return alert("Something Wrong."),!1}}),!1}function dataFilter(t,e,a,o,i){return $.ajax({method:"GET",url:t,data:"dataName="+e+"&type="+a+"&filterType="+i,dataType:"html",beforeSend:function(){$("#data_filter").html('<i class="fa fa-spinner fa-spin loading"></i>')},success:function(t){$("#data_filter").next().remove(),$(o).html(t)},error:function(t,e,a){return alert("Error!"+t.status),!1},complete:function(){$("#data_filter").next().remove()}}),!1}function getData(t,e){return $.ajax({method:"GET",url:baseUrl+"guide/service/"+t+"/language",dataType:"html",success:function(t){$(e).html(t)},error:function(){return alert("Something Wrong."),!1}}),!1}function loadService(t,e,a,o,i=0){return $.ajax({method:"GET",url:baseUrl+"option/findlocaiton",data:"id="+t+"&datatype="+e+"&selectedid="+o+"&bus_type="+i,dataType:"html",beforeSend:function(){$(a).html('<tr> <td colspan="4" class="text-center"><i class="fa fa-spinner fa-spin"></i></td> </tr>')},success:function(t){$(a).html(t)},error:function(t,e,a){return alert("Error!"+t.status),!1},complete:function(){}}),!1}function insertData(t,e,a){return $.ajax({method:"POST",url:t,data:e,dataType:"json",beforeSend:function(){$(a).text("Loading"),$(a).attr("disabled","disabled")},success:function(t){$("html, body").animate({scrollTop:0},"slow"),messageData='<div class="col-md-12"> <div class="alert alert-dismissible fade show '+t.messagetype+'" role="alert" style="position: relative; padding-left: 53px;"><i class="fa '+t.status_icon+'" style="font-size: 37px; position:absolute; top: 5px; left: 10px;"></i><div><span> '+t.message+'  </span></div><p></p><button type="button" class="close" data-dismiss="alert" aria-label="Close" style=" position: absolute;right: 7px;top: 13px;"><span aria-hidden="true" style="font-size: 22px;padding: 1px 8px;">&times;</span></button></div></div>',$(".notify-message").html(messageData)},error:function(t,e,a){return alert("Error!"+t.status),!1},complete:function(t,e){$(a).text("Publish"),$(a).removeAttr("disabled"),$("#myModal").modal("hide")}}),!1}function loadData(t,e,a,o="",i=1){return $.ajax({method:"GET",url:baseUrl+"option/findlocaiton",data:"id="+t+"&datatype="+e+"&title="+o+"&bus_type="+i,dataType:"html",success:function(t){$(a).html(t),calculate_sub_total(1)},error:function(){return alert("Something Wrong."),!1}}),!1}function calculate_sub_total(t){var e=0;$(".pax_total span").each(function(){e+=parseFloat($(this).text())}),$("#sub_total_value").text(e.toFixed(2)),$("#project_amount").val(e.toFixed(2)),t>0&&$(".sub_total_container").animate({backgroundColor:"#428bca",color:"white"},200,function(){$(this).animate({backgroundColor:"#ecf0f5",color:"black"},100)})}$(document).ready(function(){$(document).on("click","#preview_layout",function(){var t=$(this).find("input");"standard"==$(t).val()?($(t).val("wide"),$("div.container").addClass("container-fluid"),$("div.container-fluid").removeClass("container"),$(this).html("<input type='hidden' name='preview-type' value='wide'><p>Standard View <i class='fa fa-share'></i></p>")):"wide"==$(t).val()&&($(t).val("standard"),$("div.container-fluid").addClass("container"),$("div.container").removeClass("container-fluid"),$(this).html("<input type='hidden' name='preview-type' value='standard'><p>Wide View <i class='fa fa-reply'></i></p>"))}),$(document).on("click",".BtnHotelRate",function(t){btnSave=$(this);var e=$(this).data("id"),a=$(this).closest("tr"),o=$(a).find("td div .from_date").val(),i=$(a).find("td div .to_date").val(),n=$(a).find("td .ssingle").val(),r=$(a).find("td .stwin").val(),s=$(a).find("td .sdouble").val(),l=$(a).find("td .sextra").val(),d=$(a).find("td .schextra").val(),c=$(a).find("td .nsingle").val(),p=$(a).find("td .ntwin").val(),u=$(a).find("td .ndouble").val(),h=$(a).find("td .nextra").val(),v=$(a).find("td .nchextra").val();$("[name='_token']").val(),dataFormHotel={eid:e,hotelId:$("#hotelId").val(),roomId:$("#roomId").val(),from_date:o,to_date:i,ssingle:n,stwin:r,sdouble:s,sextra:l,schextra:d,nsingle:c,ntwin:p,ndouble:u,nextra:h,nchextra:v},$.ajax({method:"GET",url:$("#updateRoomRate").val(),data:dataFormHotel,dataType:"json",beforeSend:function(){$(btnSave).html('<i class="fa fa-spinner fa-spin loading"></i>')},success:function(t){},error:function(t,e,a){return alert("Error!"+t.status),!1},complete:function(){$(btnSave).text("Save")}})}),$(document).on("click",".btnSaveFlight",function(t){return urlFlight=$(this).data("url"),btnSave=$(this),eid=$(this).data("id"),form_token=$("input[name='_token']").val(),oneway_price=$(this).closest("tr").find("td .oneway_price").val(),return_price=$(this).closest("tr").find("td .return_price").val(),oneway_nprice=$(this).closest("tr").find("td .oneway_nprice").val(),return_nprice=$(this).closest("tr").find("td .return_nprice").val(),oneway_kprice=$(this).closest("tr").find("td .oneway_kprice").val(),return_kprice=$(this).closest("tr").find("td .return_kprice").val(),dataForm={eid:eid,oneway_price:oneway_price,return_price:return_price,oneway_nprice:oneway_nprice,return_nprice:return_nprice,oneway_kprice:oneway_kprice,return_kprice:return_kprice},t.preventDefault(),$.ajax({method:"GET",url:$(this).data("url"),data:dataForm,dataType:"json",beforeSend:function(){$(btnSave).text("Loading")},success:function(t){},error:function(t,e,a){return alert("Error!"+t.status),!1},complete:function(){$(btnSave).text("Save")}}),!1}),$(".checkMebox").on("click",function(){var t=$(this).find("input"),e=$(this).find("i");$(t).is(":checked")?($(e).removeClass("fa fa-square-o"),$(e).addClass("fa fa-check-square-o")):($(e).removeClass("fa fa-check-square-o"),$(e).addClass("fa fa-square-o"))}),$("#choosImg, #blah").click(function(){$("#imgInp").click()}),$("#imgInp").change(function(){readURL(this,"blah"),$("#blah").show()}),$(document).on("click",".restEditMenu",function(){var t=$(this).data("type"),e=$(this).data("price"),a=$(this).data("kprice"),o=$(this).data("menu"),i=$(this).data("id"),n=$(this).data("country_id"),r=$(this).data("rest_name");loadService(n,t,$("#dropdown-restaurant"),r),$("#country option").each(function(t){$(this).val()==n?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),$("#restid").val(i),$("#price").val(e),$("#kprice").val(a),$("#menu_name").val(o)}),$(".locationchange").on("change",function(){$(this).closest("form").submit()}),$(document).on("input",".number_only",function(t){var e=$(this);e.val(e.val().replace(/[^0-9\.]/g,"")),46==t.which&&-1==e.val().indexOf(".")||!(t.which<48||t.which>57)||t.preventDefault()}),$(".attachment").on("click",function(){$(this).addClass("selected")}),$(".editprice").on("dblclick",function(){$(this).removeAttr("readonly"),$(this).attr("name",$(this).data("label"))}),$(document).on("click",".tranEditDriver",function(){return $.ajax({method:"GET",url:baseUrl+"/transport/driver/add",data:"eid="+$(this).data("id"),dataType:"json",success:function(t){$("#eid").val(t.data_load.id),$("#driver_name").val(t.data_load.driver_name),$("#phone").val(t.data_load.phone),$("#phone2").val(t.data_load.phone2),$("#email").val(t.data_load.email),$("#email2").val(t.data_load.email2),$("#address").val(t.data_load.address),$("#intro").val(t.data_load.intro),loadService(t.data_load.province_id,"transport_service",$("#dropdown-supplier"),"transport service"),$("#country option").each(function(e){$(this).val()==t.data_load.country_id?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),loadService(t.data_load.country_id,"country-driver",$("select#dropdown-data"),t.data_load.province_id)},error:function(){return alert("Something Wrong."),!1},complete:function(){}}),!1}),$(document).on("change","#addVehicleTransport",function(){getVehicle($(this).val(),$("option:selected",this).data("transport")),$("#transport_id").val($("option:selected",this).data("transport"))}),$(document).on("click",".btnEditVehicle",function(){var t=$(this).data("bus_type");loadService($(this).data("id"),$(this).data("type"),$("select#addVehicleTransport"),"Vehicle",t)}),$(document).on("click",".btnAddVehicle",function(){return $.ajax({method:"GET",url:baseUrl+"/transport/edit",data:"eid="+$(this).data("id"),dataType:"json",success:function(t){loadService(t.data_load.province_id,"transport_service",$("ul#dropdown-supplier"),t.serviceID),loadService(t.data_load.country_id,"country",$("select#dropdown-data"),t.data_load.province_id),$("#eid").val(t.data_load.id),$("#service_name").val(t.data_load.title),$("#country option").each(function(e){$(this).val()==t.data_load.country_id?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)})},error:function(){return alert("Something Wrong."),!1}}),!1}),$(document).on("click",".btnTranUpdate",function(){return $.ajax({method:"GET",url:baseUrl+"transport/edit",data:"eid="+$(this).data("id"),dataType:"json",success:function(t){loadService(t.data_load.province_id,"transport_service",$("#dropdown-transport_service"),t.serviceID),loadService(t.data_load.country_id,"country",$("select#dropdown-data"),t.data_load.province_id),$("#eid").val(t.data_load.id),$("#service_name").val(t.data_load.title),$("#country option").each(function(e){$(this).val()==t.data_load.country_id?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)})},error:function(){return alert("Sometshing Wrong."),!1}}),!1}),$(".country").on("change",function(){var t=$(this).val(),e=$(this).data("type");loadService(t,e,$("#dropdown-"+e),$(this).data("title"),$(this).data("bus_type"))})}),$(document).ready(function(){$("#LoadingRow").css({display:"none"});var t=1;$(".addHotelRate").on("click",function(){var e=$("#urlRate").val(),a=$(this).data("type");return $.ajax({method:"GET",url:e,data:"i="+t+"&type="+a,dataType:"html",beforeSend:function(){$(this).attr("disabled","disabled"),$("#LoadingRow").css({display:"block"}),$("#placeholder").addClass("loading")},success:function(e){t++,$("#hotel-rate tbody tr:last").after(e)},error:function(){return alert("Something Wrong."),!1},complete:function(){$("#LoadingRow").css({display:"none"})}}),!1}),$(document).on("click",".RemoveHotelRate",function(){var t=$(this).closest("tr"),e=$(this).data("id"),a=$(this).data("type");if(!confirm("Are you sure you want to delete this?"))return!1;$.ajax({method:"GET",url:baseUrl+"option/remove",data:"type="+a+"&dataId="+e,dataType:"json",beforeSend:function(){$(this).css("pointer-events","none")},success:function(e){console.log(e),t.css({"background-color":"#9E9E9E"}),t.fadeOut(500,function(){$(t).remove()})},error:function(){return alert("Something Wrong."),!1},complete:function(){$(this).css("pointer-events","auto")}})}),$(document).on("click",".btnRefresh",function(){if(!confirm("Your want to clear this service?"))return!1;$.ajax({method:"GET",url:baseUrl+"option/remove",data:"type="+$(this).data("type")+"&dataId="+$(this).data("id"),dataType:"json",beforeSend:function(){$(this).css("pointer-events","none")},success:function(t){location.reload()},error:function(){return alert("Something Wrong."),!1},complete:function(){$(this).css("pointer-events","auto"),location.reload()}})}),$(".checkRoom").on("click",function(){var t=$(this).closest("tr td").find(".check"),e=$(this).closest("tr td").find(".nocheck");$(this).is(":checked")?($(t).css({display:"block"}),$(e).css({display:"none"})):($(t).css({display:"none"}),$(e).css({display:"block"}))}),$(".choose-option").on("click",function(t){var e=$(this).closest("span").find("i");$(e.removeClass("fa-square-o")),$(this).is(":checked")?($(e).removeClass("fa-square-o"),$(e).addClass("fa-check-square")):($(e).removeClass("fa-check-square"),$(e).addClass("fa-square-o"))}),$(".filterHotel").on("change",function(){window.location.href=baseUrl+"hotel/apply/room/"+$(this).val()})}),$(document).ready(function(){$("#form_submitTourType").on("submit",function(t){TourUrl=baseUrl+"create/tourtype",t.preventDefault(),insertData(TourUrl,$("#form_submitTourType").serialize(),$("#btnTourTypeSave"))}),$(".editTourType").on("click",function(t){var e=$(this).data("id"),a=$(this).data("url");$.ajax({method:"GET",url:a,data:"dataId="+e,dataType:"json",success:function(t){return $("#eid").val(t.id),$("#title").val(t.name),$("#bus_ios").val(t.business_iso),$("#meta_keyword").val(t.meta_keyword),$("#meta_desc").val(t.meta_description),!1},error:function(t,e,a){return alert("Error!"+t.status),!1}}),$("#eid").val(e)})}),$(document).ready(function(){$("#form_submittransportService").on("submit",function(t){t.preventDefault(),TourUrl=baseUrl+"transport/service/added",insertData(TourUrl,$("#form_submittransportService").serialize(),$("#btnSubmitTran"))}),$("#form_submitVehicle").on("submit",function(t){t.preventDefault(),VhUrl=baseUrl+"transport/added/vehicle",insertData(VhUrl,$("#form_submitVehicle").serialize(),$("#btnAddLanguage")),getVehicle($("option:selected",$("#addVehicleTransport")).val(),$("#transport_id").val())}),$(".businessType").on("change",function(){loadService($(this).val(),$(this).data("type"),$("select#CategoryType_data"),"get category type for create document")}),$("#btnCreateTransport").click(function(){$("#service_name").val(""),$("#eid").val(""),$("#service_code").val(""),$("#form_title").text("Add Transport Service")}),$(".tranEditMenu").on("click",function(){$("#form_title").text("Update Transport Service");var t=$(this).data("country"),e=$(this).data("city"),a=$(this).data("id"),o=$(this).data("supplier"),i=$(this).data("title");$("#service_name").val(i),$("#eid").val(a),$("#service_code").val($(this).data("code")),$("#country option").each(function(e){$(this).val()==t?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),$(".province option").each(function(t){$(this).val()==e?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),$(".supplier option").each(function(t){$(this).val()==o?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)})}),$(".vehicleEdit").on("click",function(){$("#vhid").val($(this).data("id")),$("#vehicle").val($(this).data("title")),$("#price").val($(this).data("price")),$("#kprice").val($(this).data("kprice")),$("#form_title").text("Update Vehicle")}),$("#btnAddVehicle").click(function(){$("#vhid").val(""),$("#form_title").text("Add Vehicle"),$("#vehicle").val(""),$("#price").val(""),$("#kprice").val("")}),$(".miscEdit").on("click",function(){$(".wrapper-filter-item ul#MainUl").html('<li><input type="hidden" name="golf_name" value="'+$(this).data("entrance_id")+'"><span>'+$(this).data("entrance")+"</span></li>"),$("#form_title").text($(this).data("title")),$("#title").val($(this).data("title")),$("#price").val($(this).data("price")),$("#kprice").val($(this).data("kprice")),$("#nprice").val($(this).data("nprice")),$("#nkprice").val($(this).data("nkprice")),$("#eid").val($(this).data("id"));var t=$(this).data("country"),e=$(this).data("province");$("#country option").each(function(e){$(this).val()==t?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),$(".province option").each(function(t){$(this).val()==e?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)})}),$("#addMiscService").on("click",function(){$("#form_title").text($(this).data("title")),$("input[type='text']").val(""),$("#eid").val(""),$("#country option").each(function(t){$(this).removeAttr("selected",!0)}),$(".province option").each(function(t){$(this).removeAttr("selected",!0)})}),$("#form_submitMISCService").on("submit",function(t){t.preventDefault(),VhUrl=baseUrl+"misc/service/added",insertData(VhUrl,$("#form_submitMISCService").serialize(),$("#btnMisc"))}),$("#form_submitEtrance").on("submit",function(t){t.preventDefault(),VhUrl=baseUrl+"entrance/service/added",insertData(VhUrl,$("#form_submitEtrance").serialize(),$("#btnEntrance"))}),$("#form_submitGuideService").on("submit",function(t){t.preventDefault(),VhUrl=baseUrl+"guide/service/added",insertData(VhUrl,$("#form_submitGuideService").serialize(),$("#btnaddTransport"))}),$(".ViewLang").on("click",function(){$("#form_lan_title").text("Add Language for "+$(this).data("title")),dataId=$(this).data("id");var t=$("table#tableLanuage tbody"),e=$(this).data("con");getData(dataId,t),$("input[type='text']").val(""),$("#service").val(dataId),loadService(e,"guide_by_country",$("#dropdown-guide_by_country"),"get sort guide update"),$("#country-guide option").each(function(t){$(this).val()==e?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)})}),$(document).on("click",".btnEdit",function(){$("#languid").val($(this).data("id")),$("#title").val($(this).data("name")),$("#price").val($(this).data("price")),$("#kprice").val($(this).data("kprice")),loadService($("option:selected",$("#country-guide")).val(),"guide_by_country",$("#dropdown-guide_by_country"),$(this).data("sup"))}),$(document).on("change",".language",function(){var t=$(this).data("type");$("#phone").val(""),$("#price").val(""),$("#kprice").val("");var e=$("option:selected",this).data("sup");loadService($("option:selected",this).val(),t,$("#dropdown-language-data"),e)}),$(document).on("change",".guide_name",function(){$("#price").val($("option:selected",this).data("price")),$("#kprice").val($("option:selected",this).data("kprice"));var t=$("option:selected",this).data("phone"),e=$("option:selected",this).data("phone2");$("#phone").val(t+"/ "+e)}),$(document).on("change",".service_type",function(){$("#price").val($("option:selected",this).data("price")),$("#kprice").val($("option:selected",this).data("kprice"))}),$(document).on("submit","#form_submitGlanguage",function(t){if(dataForm=$(this).serialize(),""!=$("#title").val())return $.ajax({method:"POST",url:$(this).attr("action"),data:dataForm,dataType:"json",beforeSend:function(){$("#btnSaveLange").text("Loading"),$("#btnSaveLange").attr("disabled","disabled")},success:function(t){console.log(t.message);var e=$("table#tableLanuage tbody");getData($("#service").val(),e),$("input[type='text']").val(""),$(".clearValue").val("")},error:function(t,e,a){return alert("Error!"+t.status),!1},complete:function(){$("#btnSaveLange").html("<i class='fa fa-plus-circle'></i>&nbsp;&nbsp;Add"),$("#btnSaveLange").removeAttr("disabled","disabled")}}),!1;title.focus()}),$("#btnSubmit").on("click",function(t){dataForm={fullname:$("#fullname").val(),username:$("#username").val(),email:$("#email").val(),phone:$("#phone").val(),password:$("#password").val(),"con-password":$("#password").val(),_token:$("input[name='_token']").val()},Url=baseUrl+"user/regiser/new",$("#form_submitUser").submit()&&insertData(Url,dataForm,$(this)),t.preventDefault()})}),$(document).ready(function(){$(".province").on("change",function(){var t=$(this).data("type"),e=$(this).data("title");"entrance_fee"==t&&loadService($(this).val(),"transport_service",$("#dropdown-transport_service"),"transportation"),loadService($(this).val(),t,$("#dropdown-"+t),e)}),$(".province_transport").on("change",function(){Url_filter=baseUrl+"option/find",dataFilter(Url_filter,$(this).val(),"transport_service",$("#dropdown-transport_service"),"transport_service_by_province")}),$(".btnEditTran").on("click",function(){$("#tour_id").val($(this).data("id"));var t=$(this).data("country"),e=$(this).data("province"),a=$(this).data("service"),o=$(this).data("vehicle"),i=$(this).data("language"),n=$(this).data("transport"),r=$(this).data("restname"),s=$(this).data("restmenu"),l=$(this).data("type"),d=$(this).data("bus_type");$("#pax").val($(this).data("bookpax")),$("#remark").val($(this).data("remark")),$(".start_date").val($(this).data("bookdate")),$(".booking_date").val($(this).data("bookingdate")),$("#price").val($(this).data("price")),$("#kprice").val($(this).data("kprice")),$("#phone").val($(this).data("phone")),$("#book_pax").val($(this).data("pax")),$("#remark").text($(this).data("remark")),$("#country option").each(function(e){$(this).val()==t?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),loadService(t,"country",$("#dropdown-data"),e,"apply_transport",d),$(".tran_name option").each(function(t){$(this).val()==a?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),$(".vehicle option").each(function(t){$(this).val()==o?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),$(".driver_name option").each(function(t){$(this).val()==n?$(this).attr("selected",!0):$(this).removeAttr("selected",!0)}),"entrance_fee"==l&&loadService($(this).data("province"),"transport_service",$("#dropdown-transport_service"),r,d),"rest_name"==l?(loadService($(this).data("province"),l,$("#dropdown-transervice"),r,d),loadService(r,"rest_menu",$("#dropdown-rest_menu"),s)):(loadService($(this).data("province"),l,$("#dropdown-transervice"),s,d),loadService(s,"apply_language",$("#dropdown-rest_menu"),i),loadService(i,"language-supplier",$("#dropdown-language-data"),n,d))}),$(document).on("change",".tran_name",function(){loadService($(this).val(),$(this).data("type"),$("#dropdown-rest_menu"),"transport service")}),$(document).on("change",".tran_service",function(){loadService($(this).val(),$(this).data("type"),$("#dropdown-vehicle"),$("option:selected",$(".transport")).val())}),$(document).on("change",".vehicle",function(){var t=$("option:selected",this).data("price"),e=$("option:selected",this).data("kprice");$("#price").val(t),$("#kprice").val(e)}),$(document).on("change",".rest_menu",function(){var t=$("option:selected",this).data("price"),e=$("option:selected",this).data("kprice");$("#price").val(t),$("#kprice").val(e)}),$(document).on("change",".transport",function(){var t=$("option:selected",this).data("phone"),e=$("option:selected",this).data("phone2"),a=$(this).data("type"),o=$(this).data("title"),i=$(this).data("bus_type");$("#phone").val(t+"/ "+e),loadService($(this).val(),a,$("#dropdown-"+a),o),loadService($(this).val(),"tran_service",$("#dropdown-transervice"),o,i)}),$(document).on("change",".driver_name",function(){var t=$("option:selected",this).data("phone"),e=$("option:selected",this).data("phone2");$("#phone2").val(t+"/ "+e)}),$(document).on("change",".rest_name",function(){var t=$(this).data("type");loadService($(this).val(),t,$("#dropdown-"+t),"Restaurant Menu")}),$(document).on("click",".changeStatus",function(){var t=$(this).find("i");return $.ajax({method:"GET",url:baseUrl+"changebooking/status",data:{dataid:$(this).data("id"),datatype:$(this).data("type")},contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,success:function(e){1==e.status&&($(t).removeClass("fa fa-warning (alias)"),$(t).addClass("fa fa-check-circle")),0==e.status&&($(t).removeClass("fa fa-check-circle"),$(t).addClass("fa fa-warning (alias)"))},error:function(t,e,a){return alert("Error!"+t.status),!1}}),!1}),$("#company_form").submit(function(t){t.preventDefault(),insertData(baseUrl+"company/",$("#company_form").serialize(),$("#btnAddCompany"))}),$(document).on("keyup change","#data_filter",function(){var t=$(this).data("url"),e=$(this).data("type"),a=$("#dropdown-"+e);if("guide_by_country"==e)var o=$("option:selected",$("#country-guide")).val();else o=$("option:selected",$(".province_transport")).val();dataFilter(t,$(this).val(),e,a,o)}),$(".submitDiscount").on("click",function(t){var e=$(this).closest("tr").find("td.addOption .wrapping-discount"),a=e.find("div div.value").find("input").val(),o=e.find("div div.value").find("input[name='eid']").val(),i={_token:e.find("div div.value").find("input[name='_token']").val(),eid:o,discount:a,current_amount:e.find("div div.value").find("input[name='current_amount']").val(),book_day:e.find("div div.value").find("input[name='book_day']").val(),no_of_room:e.find("div div.value").find("input[name='no_of_room']").val()};$.ajax({method:"POST",url:baseUrl+"AddHotelDiscount",data:i,dataType:"json",beforeSend:function(){$(this).text("saving")},success:function(t){},error:function(t,e,a){return alert("Error!"+t.status),!1},complete:function(t,a){e.fadeOut()}}),t.preventDefault()})}),$(function(){location.protocol,location.host;var t=1;$(".add_row").click(function(){var e=$(this).data("type"),a=$(this).data("url");return $.ajax({type:"get",url:a,data:"i="+t+"&type="+e,datatype:"html",beforeSend:function(){$(this).attr("disabled","disabled"),$("#LoadingRow").css({display:"block"}),$("#placeholder").addClass("loading")},success:function(e){t++,$("#add_book_project tbody tr:last").after(e)},error:function(){return alert("Something Wrong."),!1},complete:function(){$("#LoadingRow").css({display:"none"})}}),!1}),$(document).on("click",".reset_booking",function(){return!!confirm("Are you sure, you want to reset all booking?")&&($("#add_book_project tbody tr").fadeOut(500,function(){$("#add_book_project tbody").html("<tr></tr>"),calculate_sub_total(1)}),!1)}),$(document).on("click",".RemoveBook",function(){var t=$(this).closest("tr");if(!confirm("Are you sure you want to delete this?"))return!1;t.css({"background-color":"#9E9E9E"}),t.fadeOut(500,function(){$(t).remove(),calculate_sub_total(1)})}),$(document).on("change",".country",function(){$(".no_country",this).remove();var t=$(this).val(),e=$(this).data("type"),a=$(this).data("pro_of_bus"),o=$(this).data("pro_of_bus_id");"booking"===$(this).data("book")&&loadData(t,e,$(this).closest("tr").find("td.province_container").find("select.province"),a,o)}),$(document).on("change",".province",function(){var t=$(this).val(),e=$(this).data("type");if("pro_tour"==e)loadData(t,e,$(this).closest("tr").find("td.tour_container").find("select.tour"),"Tour");else if("pro_hotel"==e){loadData(t,e,$(this).closest("tr").find("td.hotel_container").find("select.hotel"),"Hotel")}else if("pro_flight"==e)flight=$(this).closest("tr").find("td.province_container").find("select.city_destination"),$(this).closest("tr").find("td.flight_container").find("select.flightno").html("<option value=''>Flight No</option>"),$(this).closest("tr").find("td.flight_container").find("select.ticketing").html("<option value=''>Ticketing</option>"),loadData(t,e,flight,"Flight Number");else if("pro_Book_flight"==e)e="pro_flight",flight=$("select#city_destination"),loadData(t,e,flight,"Flight Number");else if("river-cruise"==e){$("#no_program",this).remove(),loadData(t,e,$(this).closest("tr").find("td.cruise_container").find("select.cruise-program"),"Cruise Program")}else if("pro_golf"==e){loadData(t,e,$(this).closest("tr").find("td.golf_container").find("select.golf"),"Golf")}}),$(document).on("change",".city_destination",function(){"single_city_destination"==$(this).data("type")?(flightno_loc=$("select#dropdown-FlightNo"),flightProvince=$("select.province").val(),datatype="city_destination"):(datatype=$(this).data("type"),flightno_loc=$(this).closest("tr").find("td.flight_container").find("select.flightno"),flightProvince=$(this).closest("tr").find("td.province_container").find("select.province").val()),loadData($(this).val(),datatype,flightno_loc,flightProvince)}),$(document).on("change",".tour",function(){loadData($(this).val(),$(this).data("type"),$(this).closest("tr").find("td.pax_container").find("select.pax_no"),"Pax")}),$(document).on("change",".river-cruise",function(){$("#no_program",this).remove(),loadData($(this).val(),$(this).data("type"),$(this).closest("tr").find("td.cruise_container").find("select.cruise-program"),"Cruise Program")}),$(document).on("change",".pax_no",function(){$(".no_select",this).remove();var t=$(this).val(),e=$(this).find("option:selected").data("price"),a=$(this).find("option:selected").data("nprice"),o=$(this).closest("tr").find("td.pax_price span"),i=$(this).closest("tr").find("td.pax_price #pax_price"),n=$(this).closest("tr").find("td.pax_price #tour_nprice"),r=$(this).closest("tr").find("td.pax_total span"),s=$(this).closest("tr").find("td.pax_total #tour_amount");o.text(e),i.val(e),n.val(a),s.val(parseFloat(e)*parseFloat(t)),r.text((parseFloat(e)*parseFloat(t)).toFixed(2)),calculate_sub_total(1)}),$(document).on("change",".flight",function(){loadData($(this).val(),$(this).data("type"),$(this).closest("tr").find("td.flight_container").find("select.flightno"),"flightNo")}),$(document).on("change",".flightno",function(){loadData($(this).val(),$(this).data("type"),$(this).closest("tr").find("td.flight_container").find("select.ticketing"),"Flight No.")}),$(document).on("change",".ticketing",function(){$(".no_agent",this).remove();var t=$(this).closest("tr").find("td.bookway_container").find("select.bookway"),e=$(this).closest("tr").find("td.fagent_container").find("select.flightPax"),a=$("option:selected",e).val(),o=$("option:selected",t).val(),i=$("option:selected",this).data("oneway"),n=$("option:selected",this).data("return"),r=$("option:selected",this).data("noneway"),s=$("option:selected",this).data("nreturn"),l=$("option:selected",this).data("koneway"),d=$("option:selected",this).data("kreturn"),c=$(this).closest("tr").find("td.pax_price span"),p=$(this).closest("tr").find("td.pax_price #pax_price"),u=$(this).closest("tr").find("td.pax_price #pax_nprice"),h=$(this).closest("tr").find("td.pax_price #pax_kprice"),v=$(this).closest("tr").find("td.pax_total span"),f=$(this).closest("tr").find("td.pax_total #flight_amount");"Oneway"==o?(c.text(i),p.val(i),u.val(r),v.text((i*a).toFixed(2)),f.val(i*a),h.val(l*a)):(c.text(n),p.val(n),u.val(s),v.text((n*a).toFixed(2)),f.val(n*a),h.val((d*a).toFixed(2))),calculate_sub_total(1)}),$(document).on("change",".flightPax",function(){var t=$(this).closest("tr").find("td.pax_price").find("#pax_price").val(),e=$(this).closest("tr").find("td.pax_total span");$(this).closest("tr").find("td.pax_total #flight_amount").val(t*$(this).val()),e.text((t*$(this).val()).toFixed(2))}),$(document).on("change",".book_FlightPax",function(){flighPax=$(this).val();var t=$("#book_price").val();$("#book_amount").val((flighPax*t).toFixed(2))}),$(document).on("change",".bookway",function(){var t=$(this).closest("tr").find("td.fagent_container").find("select.flightPax"),e=$("option:selected",t).val(),a=$(this).closest("tr").find("td.flight_container").find("select.ticketing"),o=$("option:selected",a).data("oneway"),i=$("option:selected",a).data("return"),n=$("option:selected",a).data("noneway"),r=$("option:selected",a).data("nreturn"),s=($("option:selected",a).data("koneway"),$("option:selected",a).data("kreturn")),l=$(this).closest("tr").find("td.pax_price span"),d=$(this).closest("tr").find("td.pax_price #pax_price"),c=$(this).closest("tr").find("td.pax_price #pax_nprice"),p=$(this).closest("tr").find("td.pax_price #pax_kprice"),u=$(this).closest("tr").find("td.pax_total span"),h=$(this).closest("tr").find("td.pax_total #flight_amount");"Oneway"==$(this).val()?(l.text(o),d.val(o),u.text((e*parseFloat(o)).toFixed(2)),h.val(e*parseFloat(o)),c.val(n),p.val(s)):(l.text(i),d.val(i),u.text((e*parseFloat(i)).toFixed(2)),h.val(e*parseFloat(i)),c.val(r),p.val(s)),calculate_sub_total(1)}),$(document).on("change",".golf",function(){loadData($(this).val(),$(this).data("type"),$(this).closest("tr").find("td.golf_container").find("select.golf_service"),"Golf Service")}),$(document).on("change",".golf_service",function(){$("#no_golf_service",this).remove();$(this).val(),$(this).data("type");var t=$("option:selected",this).data("price"),e=$("option:selected",this).data("nprice"),a=$("option:selected",this).data("kprice"),o=$("option:selected",this).data("nkprice"),i=$(this).closest("tr").find("td.golf_pax_container").find("select.golfPax"),n=jQuery("option:selected",i).val();$(this).closest("tr").find("td.pax_price span").text(t);$(this).closest("tr").find("td.pax_price #golfprice").val(t),$(this).closest("tr").find("td.pax_price #golfnprice").val(e),$(this).closest("tr").find("td.pax_price #golfkprice").val(a),$(this).closest("tr").find("td.pax_price #golfnkprice").val(o),$(this).closest("tr").find("td.pax_total span").text((parseFloat(t)*parseFloat(n)).toFixed(2)),$(this).closest("tr").find("td.pax_total #golfamount").val((parseFloat(t)*parseFloat(n)).toFixed(2)),$(this).closest("tr").find("td.pax_total #golfnamount").val((parseFloat(e)*parseFloat(n)).toFixed(2)),$(this).closest("tr").find("td.pax_total #golfkamount").val((parseFloat(a)*parseFloat(n)).toFixed(2)),$(this).closest("tr").find("td.pax_total #golfnkamount").val((parseFloat(o)*parseFloat(n)).toFixed(2)),calculate_sub_total(1)}),$(document).on("change",".golfPax",function(){var t=$(this).closest("tr").find("td.pax_price #golfprice").val(),e=$(this).closest("tr").find("td.pax_price #golfnprice").val(),a=$(this).closest("tr").find("td.pax_price #golfkprice").val(),o=$(this).closest("tr").find("td.pax_price #golfnkprice").val(),i=(parseFloat(t)*parseFloat($(this).val())).toFixed(2),n=(parseFloat(e)*parseFloat($(this).val())).toFixed(2),r=(parseFloat(a)*parseFloat($(this).val())).toFixed(2),s=(parseFloat(o)*parseFloat($(this).val())).toFixed(2);$(this).closest("tr").find("td.pax_total span").text(i),$(this).closest("tr").find("td.pax_total #golfamount").val(i),$(this).closest("tr").find("td.pax_total #golfnamount").val(n),$(this).closest("tr").find("td.pax_total #golfkamount").val(r),$(this).closest("tr").find("td.pax_total #golfnkamount").val(s)})}),$(function(){$(document).on("change",".book_City",function(){var t=$(this).data("type");loadData($(this).val(),t,$("select#dropdown-booking"),"booking tour"),$("select#dropdown-tourPax").html(""),$("#book_price").val("00.0"),$("#book_amount").val("00.0")}),$(document).on("change",".booking_name",function(){var t=$(this).data("type"),e=$(this).val();if("book_tour"==t){loadData(e,t,a=$("select#dropdown-tourPax"),"Booking Tour");$("option:selected",a).data("sprice");$("#book_price").val("00.0"),$("#book_amount").val("00.0")}else if("airline"==t){loadData(e,t,a=$("select#dropdown-FlightNo"),"booking Flight"),$("select#dropdown-TicketingAgent").html("<option>No Agent</option>"),$("#book_price").val("00.0"),$("#book_amount").val("00.0")}else if("river-cruise"==t){loadData(e,t,a=$("select#dropdown-Cruise_program"),"booking Cruise Program"),$("select#dropdown-TicketingAgent").html("<option>No Agent</option>"),$("#book_price").val("00.0"),$("#book_amount").val("00.0")}else if("book_golf"==t){var a;loadData(e,t,a=$("select#dropdown-golfservice"),"booking Golf"),$("#book_price").val("00.0"),$("#book_amount").val("00.0")}}),$(document).on("change",".book_pax",function(){var t=$(this).val();if("golf_pax"==$(this).data("type")){var e=$("#book_price").val();$("#book_amount").val((parseFloat(e)*t).toFixed(2))}}),$(document).on("change",".bookTourPax",function(){$("#no_tourPax",this).remove();var t=$("#book_price"),e=$("#book_nprice"),a=$("#book_amount"),o=$("option:selected",this).data("price"),i=$("option:selected",this).data("nprice"),n=$(this).val();tourAmoun=parseFloat(o)*parseFloat(n),t.val(o),e.val(i),a.val(tourAmoun.toFixed(2))}),$(document).on("change",".bookGolfService",function(){var t=$("option:selected",this).data("price"),e=$("option:selected",this).data("nprice"),a=$(".book_pax").val();$("#book_price").val(t),$("#book_nprice").val(e),$("#book_amount").val((parseFloat(t)*a).toFixed(2))}),$(document).on("change",".Book_FlightNo",function(){var t=$(this).data("type");loadData($(this).val(),t,$("select#dropdown-TicketingAgent"),"Flight Agent"),$("#book_price").val("00.0"),$("#book_amount").val("00.0")}),$(document).on("change",".book_FlightAgent",function(){$(".no_data",this).remove();var t=$(".book_FlightPax"),e=$("option:selected",t).val(),a=$("option:selected",this).data("oneway"),o=$("option:selected",this).data("return"),i=$("option:selected",this).data("noneway"),n=$("option:selected",this).data("nreturn"),r=$("option:selected",this).data("koneway"),s=$("option:selected",this).data("kreturn");"Return"==$("input[name=book_way]:checked").val()?($("#book_price").val(o),$("#book_nprice").val(n),$("#book_kprice").val(s),$("#book_amount").val((o*e).toFixed(2))):($("#book_price").val(a),$("#book_nprice").val(i),$("#book_kprice").val(r),$("#book_amount").val((a*e).toFixed(2)))}),$(".bookway").on("click",function(){var t=$(".book_FlightAgent"),e=$(".book_FlightPax"),a=$("option:selected",e).val(),o=$("option:selected",t).data("oneway"),i=$("option:selected",t).data("return"),n=$("option:selected",t).data("noneway"),r=$("option:selected",t).data("nreturn"),s=$("option:selected",t).data("koneway"),l=$("option:selected",t).data("kreturn");"Return"==$(this).val()?($("#book_price").val(i),$("#book_nprice").val(r),$("#book_kprice").val(l),$("#book_amount").val((i*a).toFixed(2))):($("#book_price").val(o),$("#book_nprice").val(n),$("#book_kprice").val(s),$("#book_amount").val((o*a).toFixed(2)))})}),$(document).ready(function(){location.protocol,location.host;$(document).on("click",".windowbg .close",function(){$("#loadImage").removeClass("open-uploadImage")}),$("#loadImage").css({"max-height":"400px","overflow-y":"auto"}),$(document).on("click","#loadImage.open-uploadImage ul li",function(){var t=$(this),e=$("#loadImage ul li");"single-img"==$(this).data("type")&&($(t).hasClass("active")?($(e).removeClass("active"),$("#image_title").text(""),$("#preview-item-side img").attr("src",""),$("#img-details").css({display:"none"}),$("#url-image").val(""),$(".btnFeatureImageSet").attr("disabled",!0),$(".btnFeatureImageSet").removeAttr("data-filename"),$(".reMoveImageFileUPloaded").attr("data-url","")):($(e).removeClass("active"),$(t).addClass("active"),$("#image_title").text($(t).data("label")),$("#preview-item-side img").attr("src",$(t).data("url")),$("#img-details").css({display:"block"}),$("#url-image").val($(t).data("url")),$(".btnFeatureImageSet").attr("disabled",!1),$(".btnFeatureImageSet").attr("data-filename",$(t).data("url")),$(".reMoveImageFileUPloaded").attr("data-url",$(t).data("url")))),"multi-img"==$(this).data("type")&&($(this).hasClass("active")?($(this).removeClass("active"),$("#image_title").text(""),$("#preview-item-side img").attr("src",""),$("#img-details").css({display:"none"}),$("#url-image").val(""),$(".btnFeatureImageSet").attr("disabled",!0),$(".btnFeatureImageSet").removeAttr("data-filename"),$(".reMoveImageFileUPloaded").attr("data-url","")):($(t).addClass("active"),$("#image_title").text($(t).data("label")),$("#preview-item-side img").attr("src",$(t).data("url")),$("#img-details").css({display:"block"}),$("#url-image").val($(t).data("url")),$(".btnFeatureImageSet").attr("disabled",!1),$(".btnFeatureImageSet").attr("data-filename",$(t).data("url")),$(".reMoveImageFileUPloaded").attr("data-url",$(t).data("url"))),data_selected="",$($("#loadImage ul li.active")).each(function(t,e){$(this).hasClass("active")&&(data_selected+="<li data-label='"+$(this).data("label")+"'  data-url='"+$(this).data("url")+"'><img src='"+$(this).data("url")+"' /></li>")}),$(".seleted-img ul").html(data_selected))}),$(document).on("click","#removeImage",function(){$("#wrap-feature-image").removeClass("open-img"),$("#data-img").val(""),$("#feature-img").attr("src","")}),$(document).on("click",".removegallery",function(){$(this).closest("li").remove()}),$(document).on("click","#clear-gallery",function(){$("#gallery-image li").remove()}),$(document).on("click change",".reMoveImageFileUPloaded",function(t){pathImg=$("#image_title").text(),$.ajax({method:"GET",url:"/window/remove/fileUploaded",data:{pathImg:pathImg},dataType:"json",success:function(t){if("Yes"==t.message){var e=$("#loadImage ul").find(" li.active");$("#img-details").css({display:"none"}),$("#url-image").val(""),$(".btnFeatureImageSet").attr("disabled",!0),alert("Deleted successfully"),$(e).remove()}else alert("Not Delete")},error:function(){return alert("Something Wrong."),!1}})}),$(".btnUploadFiles").on("click",function(t){datatype=$(this).data("type"),$("#loadImage").addClass("open-uploadImage"),$("#loadImage").hasClass("open-uploadImage")&&loadFileImage(datatype),"single-img"==datatype?($("#btnsetfeature").css({display:"block"}),$("#btnsetgallery").css({display:"none"}),$(".seleted-img ul li").remove()):($("#btnsetgallery").css({display:"block"}),$("#btnsetfeature").css({display:"none"}))}),$(document).on("change","#sort_photoBymonth",function(){loadFileImage(datatype,$(this).val())}),$(document).on("click",".btnFeatureImageSet",function(t){if("single-img"==$(this).data("type")){var e=$("#url-image").val();$("#wrap-feature-image").addClass("open-img"),$("#data-img").val($("#image_title").text()),$("#feature-img").attr("src",e),$("#myUpload").modal("hide")}else if("multi-img"==$(this).data("type")){var a="";$(".seleted-img ul li").each(function(t){$(this).data("url")+"|",a+="<li data-url='"+$(this).data("url")+"'><i class='removegallery fa fa-remove (alias)' title='Remove picture' style='display: none;'></i><input type='hidden' name='gallery[]' value='"+$(this).data("label")+"'><img src='"+$(this).data("url")+"' style='width:100%;' /></li>"}),$("#wrap-gallery-image ul").append(a),$("#myUpload").modal("hide")}}),$(document).on("click","#btnUPload",function(){$("#btnUPloadFile").click()}),$("#btnUPloadFile").change(function(){$("#form_uploadeFile").submit()}),$("form#form_uploadeFile").submit(function(t){var e=new FormData($(this)[0]);t.preventDefault(),$.ajax({method:"POST",url:"/window/uploadfile",data:e,type:"POST",async:!1,success:function(t){alert(t.message),$("ul.windowbg li.upload_file").removeClass("active"),$("ul.windowbg li.media-library").addClass("active"),$("#media-content").addClass("active"),$("#upload_file").removeClass("active"),loadFileImage("multi-img")},cache:!1,datatype:"json",contentType:!1,processData:!1,error:function(t,e,a){return alert("Error!"+t.status),!1}})}),$(document).on("submit","#form_uploadeFileOnly",function(t){t.preventDefault();var e=new FormData($(this)[0]);$.ajax({method:"POST",url:"/window/uploadfile/only",data:e,type:"POST",async:!1,success:function(t){t.onlyFile.length>0?$(".remove_image").show():$(".remove_image").hide(),$("#removeLogo").attr("data-filename",t.onlyFile),$("#removeLogo").attr("data-id",t.collect.cp_id),$("#exampleModalCenterTitle").modal("hide"),$("#wrapper-logo").html("<img style='width:100%;' src='/storage/avata/"+t.onlyFile+"' />")},cache:!1,datatype:"json",contentType:!1,processData:!1,error:function(t,e,a){return alert("Error!"+t.status),!1},complete:function(){$(".data_filter",this).next().remove()}})}),$(document).on("click","#removeLogo",function(t){var e=$(this).data("id"),a=$(this).data("filename");$.ajax({method:"GET",url:"/window/remove-image/logo?cp_id="+e+"&filename="+a,dataType:"json",beforeSend:function(){$(this).attr("disabled","disabled")},success:function(t){$("#removeLogo").css({display:"none"}),$("#wrapper-logo").html('<i class="fa fa-user" style="font-size: 170px; font-size: 170px;border: solid #ddd 1px;padding: 1px 19px;border-radius: 5px;color: #999;"></i>')},error:function(){return alert("Something Wrong."),!1}})})});var now=new Date,m=now.getMonth()+1,y=now.getFullYear(),dateNow="0"+m+"-"+y;function loadFileImage(t,e=dateNow){$.ajax({method:"GET",url:"/window/uploaded",data:{datatype:t,month:e},dataType:"json",beforeSend:function(){$(this).attr("disabled","disabled")},success:function(e){if(1==e.status){var a="",o=[],i=e.dates;$.each(e.files,function(e,o){a+="<li data-type='"+t+"' data-label='"+o.name+"' data-url='"+o.url+"' class='col-sm-3 col-xs-4 attachment' style='padding:10px;height:136px;'> <i style='display:none;' class='fa fa-check'></i><img  src='"+o.url+"' loading='lazy' alt='loading...' style='width:100%; height:100%;'></li>"}),$("#loadImage.open-uploadImage ul").html(a),o.push('<option value="0">All</option>'),$.each(i,function(t,a){e.check===a?o.push('<option value="'+a+'" selected="selected" >'+a+"</option>"):o.push('<option value="'+a+'">'+a+"</option>")}),$("#sort_photoBymonth").html(o)}0==e.status&&$("#loadImage.open-uploadImage ul").html("<li style='padding:25% 41%;'><strong>Not Found...!</strog></li>")},error:function(){return alert("Something Wrong."),!1}})}$(function(){$("#confirm-booking").attr("disabled",!0),$(document).on("change","#checkRoom",function(){if($(this).is(":checked"));else{var t=$(this).closest("tr").find("td.container_room_no").find("#no_of_room");$(this).closest("tr").find("td.container_category").each(function(e,a){if($("#roomCat",a).prop("checked")){$("input#roomCat",a).prop("checked",!1),$("input#roomCat",a).prop("disabled",!1);var o=$(this).closest("tr").find("td.container_selling_price span"),i=$(this).closest("tr").find("td.container_selling_price #room_price"),n=$(this).closest("tr").find("td.container_net_price span"),r=$(this).closest("tr").find("td.container_net_price #room_net_price"),s=$(this).closest("tr").find("td.container_selling_amount"),l=$(this).closest("tr").find("td.container_net_amount");$(t).attr("required",!1),o.text("00.0"),n.text("00.0"),i.val("00.0"),r.val("00.0"),s.find("span").text("00.0"),l.find("span").text("00.0"),s.find("input").val("00.0"),l.find("input").val("00.0")}})}var e=!0;$("tr td.container_room").each(function(t,a){$(".checkRoom",a).is(":checked")&&(e=!1)}),$("#confirm-booking").attr("disabled",e)}),$(document).on("change","#roomCat",function(){$(this).closest("tr").find("td.container_category span#checkStatus");var t=$(this).closest("tr").parent().closest("tr").find("td.container_room"),e=$("input#checkRoom",t),a=($(this).closest("tr").find("td.container_category"),$(this).data("selling")),o=$(this).data("net"),i=$(this).closest("tr").find("td.container_room_no select"),n=$(this).closest("tr").find("td.container_room_no").find("#no_of_room"),r=$(this).closest("tr").find("td.container_selling_price span"),s=$(this).closest("tr").find("td.container_selling_price #room_price"),l=$(this).closest("tr").find("td.container_net_price span"),d=$(this).closest("tr").find("td.container_net_price #room_net_price"),c=$(this).closest("tr").find("td.container_selling_amount"),p=$(this).closest("tr").find("td.container_net_amount"),u=$("#book_day").val();if(!$(e).prop("checked"))return alert("Please checked room type before choose room category;"),$(this).prop("checked",!1),t.animate({backgroundColor:"#428bca",color:"white"},200,function(){$(this).animate({backgroundColor:"#ecf0f5",color:"black"},100)}),!1;$(this).prop("checked")?((a>0||o>0)&&($("option:eq(1)",i).attr("selected","selected").val(),$("option:eq(0)",i).removeAttr("selected","selected").val("")),bookingDay=u<=0?1:u,r.text(a||"NaN"),l.text(o||"NaN"),s.val(a),d.val(o),c.find("span").text((parseFloat(a)*parseFloat(i.val())*parseFloat(bookingDay)).toFixed(2)),c.find("input").val((parseFloat(a)*parseFloat(i.val())*parseFloat(bookingDay)).toFixed(2)),p.find("span").text((parseFloat(o)*parseFloat(i.val())*parseFloat(bookingDay)).toFixed(2)),p.find("input").val((parseFloat(o)*parseFloat(i.val())*parseFloat(bookingDay)).toFixed(2)),$(n).attr("required",!0)):($("option:eq(1)",i).removeAttr("selected","selected").val(),$("option:eq(0)",i).attr("selected","selected").val(""),r.text("00.0"),l.text("00.0"),s.val("00.0"),d.val("00.0"),c.find("span").text("00.0"),p.find("span").text("00.0"),c.find("input").val("00.0"),p.find("input").val("00.0"),$(n).attr("required",!1))}),$(document).on("change","#no_of_room",function(){var t=$("#book_day").val(),e=($(this).closest("tr").find("td.container_category #roomCat"),$(this).closest("tr").find("td.container_selling_price #room_price").val()),a=$(this).closest("tr").find("td.container_net_price #room_net_price").val(),o=$(this).val(),i=$(this).closest("tr").find("td.container_selling_amount span"),n=$(this).closest("tr").find("td.container_net_amount span"),r=$(this).closest("tr").find("td.container_selling_amount input"),s=$(this).closest("tr").find("td.container_net_amount input");bookingDay=t<=0?1:t,i.text((parseFloat(e)*parseFloat(o)*parseFloat(bookingDay)).toFixed(2)),n.text((parseFloat(a)*parseFloat(o)*parseFloat(bookingDay)).toFixed(2)),r.val((parseFloat(e)*parseFloat(o)*parseFloat(bookingDay)).toFixed(2)),s.val((parseFloat(a)*parseFloat(o)*parseFloat(bookingDay)).toFixed(2))})});
